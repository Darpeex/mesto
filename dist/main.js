(()=>{"use strict";function e(e){e.classList.add("popup_opened"),document.addEventListener("click",n),document.addEventListener("keydown",i)}function t(e){e.classList.remove("popup_opened"),document.addEventListener("click",n),document.removeEventListener("keydown",i)}function n(){Array.from(document.querySelectorAll(".popup")).forEach((function(e){e.addEventListener("mousedown",(function(t){t.target===t.currentTarget&&e.classList.remove("popup_opened")}))}))}function i(e){"Escape"===e.key&&t(document.querySelector(".popup_opened"))}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(void 0,r=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!==o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i.key),"symbol"===o(r)?r:String(r)),i)}var r}function a(e,t){u(e,t),t.add(e)}function l(e,t,n){u(e,t),t.set(e,n)}function u(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function c(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function s(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,f(e,t,"get"))}function p(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,f(e,t,"set"),n),n}function f(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}document.querySelectorAll(".popup__button_action_close").forEach((function(e){var n=e.closest(".popup");e.addEventListener("click",(function(){return t(n)}))}));var d=new WeakMap,v=new WeakMap,h=new WeakMap,m=new WeakMap,b=new WeakMap,y=new WeakMap,w=new WeakMap,g=new WeakSet,k=new WeakSet,S=new WeakSet,E=new WeakSet,C=new WeakSet;function L(){var e=this;c(this,C,M).call(this,s(this,w)),s(this,y).forEach((function(t){t.addEventListener("input",(function(){c(e,k,W).call(e,t),c(e,S,_).call(e,s(e,y))?c(e,C,M).call(e,s(e,w)):c(e,E,T).call(e,s(e,w))}))}))}function W(e){var t=document.querySelector("#".concat(e.id,"-error"));e.checkValidity()?(t.textContent="",e.classList.remove(s(this,m))):(t.textContent=e.validationMessage,e.classList.add(s(this,m)))}function _(e){return e.some((function(e){return!e.validity.valid}))}function T(e){e.classList.remove(s(this,h)),e.removeAttribute("disabled")}function M(e){e.classList.add(s(this,h)),e.setAttribute("disabled",!0)}const j=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,C),a(this,E),a(this,S),a(this,k),a(this,g),l(this,d,{writable:!0,value:void 0}),l(this,v,{writable:!0,value:void 0}),l(this,h,{writable:!0,value:void 0}),l(this,m,{writable:!0,value:void 0}),l(this,b,{writable:!0,value:void 0}),l(this,y,{writable:!0,value:void 0}),l(this,w,{writable:!0,value:void 0}),p(this,d,t.inputSelector),p(this,v,t.submitButtonSelector),p(this,h,t.inactiveButtonClass),p(this,m,t.inputErrorClass),p(this,b,n),p(this,y,Array.from(s(this,b).querySelectorAll(s(this,d)))),p(this,w,s(this,b).querySelector(s(this,v)))}var t,n;return t=e,(n=[{key:"enableValidation",value:function(){s(this,b).addEventListener("submit",(function(e){e.preventDefault()})),c(this,g,L).call(this)}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function A(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==q(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!==q(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(i.key),"symbol"===q(o)?o:String(o)),i)}var o}function P(e,t){I(e,t),t.add(e)}function x(e,t,n){I(e,t),t.set(e,n)}function I(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function F(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function N(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,O(e,t,"get"))}function B(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,O(e,t,"set"),n),n}function O(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var V=new WeakMap,D=new WeakMap,z=new WeakMap,J=new WeakMap,G=new WeakMap,H=new WeakSet,K=new WeakSet,Q=new WeakSet,R=new WeakSet,U=new WeakSet;function X(e){B(this,z,N(this,G).cloneNode(!0)),B(this,J,N(this,z).querySelector(".elements-block__image")),N(this,z).querySelector(".elements-block__name").textContent=e.name,N(this,J).src=e.link,N(this,J).alt=e.name,F(this,U,ee).call(this,N(this,z))}function Y(e){e.target.classList.toggle("elements-block__like-button_active")}function Z(e){e.target.closest(".elements-block").remove()}function $(t){popupImage.src=t.target.src,popupImage.alt=t.target.alt,popupSubtitle.textContent=t.target.alt,e(openCard)}function ee(e){e.querySelector(".elements-block__delete-button").addEventListener("click",F(this,Q,Z)),e.querySelector(".elements-block__like-button").addEventListener("click",F(this,K,Y)),e.querySelector(".elements-block__image").addEventListener("click",F(this,R,$))}const te=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),P(this,U),P(this,R),P(this,Q),P(this,K),P(this,H),x(this,V,{writable:!0,value:void 0}),x(this,D,{writable:!0,value:void 0}),x(this,z,{writable:!0,value:void 0}),x(this,J,{writable:!0,value:void 0}),x(this,G,{writable:!0,value:void 0}),B(this,V,document.querySelector(t)),B(this,D,n),B(this,G,i)}var t,n;return t=e,(n=[{key:"getCard",value:function(e){return F(this,H,X).call(this,e),N(this,z)}}])&&A(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();var ne=new j(validationConfig,profileForm),ie=new j(validationConfig,creationForm);function oe(e){var t=new te("#elements",e,cardTemplate).getCard(e);cardsContainer.prepend(t)}ne.enableValidation(),ie.enableValidation(),popupAddCardBtn.addEventListener("click",(function(){e(popupAddCard)})),creationForm.addEventListener("submit",(function(e){getCardName.value.length<=1||getSrcImg.value.length<=1?stop:(e.preventDefault(),data.name=getCardName.value,data.link=getSrcImg.value,oe(data),creationForm.reset(),t(popupAddCard))})),initialCards.reverse().forEach(oe),profileEditButton.addEventListener("click",(function(){nameInput.value=getName.textContent,jobInput.value=getJob.textContent,e(editProfile)})),profileForm.addEventListener("submit",(function(e){e.preventDefault(),getName.textContent="".concat(nameInput.value),getJob.textContent="".concat(jobInput.value),t(popupProfile)}))})();